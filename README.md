# 프로젝트 명 : SWITHME(Study With Me)📕 
<img src="https://drive.google.com/uc?id=1BSPPXwC5nxy_Eqex_-pRwvmUXJszUi0Y"/>

<br>스윗미는 게시판, 그룹, 캘린더, 스톱워치, 채팅서비스를 제공하여 공부를 위한 환경 조성/커뮤니케이션 웹사이트입니다.

• 개발 기간 : 2023.08.26. ~ 2023.09.18.(3주)
• 개발 인원 : 4명

<br> • 팀 노션 : [URL](https://rowan-pufferfish-a5a.notion.site/SWITHME-7f7439e749f14811b222065339171abe)
<br> • 팀 깃허브 : [URL](https://github.com/sparta-ecochiko/swithme)
 <div>
        <h2>📌 핵심 기능</h2>
        <ol>
            <li>게시판📋</li>
            네 가지 카테고리별 게시판과 댓글/대댓글 기능을 통해 사용자 간의 관심 분야와 정보를 공유하는 커뮤니케이션 장을 제공합니다.
            <li>그룹👥</li>
            동일한 관심 주제를 가진 멤버들이 모여 그룹을 형성하고 목표를 세우며 멤버별 누적시간의 순위를 확인합니다.   
            <li>캘린더📆</li>
            개인의 학업/업무 스케줄을 저장하고 관리할 수 있는 공간을 제공합니다.
            <li>스톱워치⏱️</li>
            자투리 시간 활용 및 높은 효율성을 위해 타이머 기능 및 누적시간 조회 기능을 제공합니다.
            <li>채팅💻</li>
            개인이 유저를 초대하여 채팅창을 생성하고 대화를 나눌 수 있습니다. 초대된 유저는 초대를 거절할 수 있습니다.
            <li>메인 페이지📚</li>
            5개의 메뉴를 확인하고 선택하여 이동할 수 있는 메인 페이지입니다.
        </ol>
    </div>
 <br>
<h2><a href="https://rowan-pufferfish-a5a.notion.site/SWITHME-884f77ca6e294588a2ffe745900de845" >🗄️ 아키텍쳐</a></h2>
<img src="https://drive.google.com/uc?id=14yPLmV5HJks5JwxcZH2yNLUyuK4ILX4o" />

<h2>🌐 ERD & API</h2>
<a href="https://www.erdcloud.com/d/nsyTLkMBDYAbSdHum" > ERD </a> &
<a href="https://young-baron-d39.notion.site/7c369a586ec944ba80a535197a03bc6a?v=6fc3cb1ffa3c433aa086ecff7bfdc40d&pvs=4" > API</a>

<br>
<h2>⛏️기술 스택</h2>
<h4>프런트엔드 💻</h4>
<div>
    <img src="https://img.shields.io/badge/HTML5-E34F26?style=flat&logo=HTML5&logoColor=white" />
    <img src="https://img.shields.io/badge/CSS3-1572B6?style=flat&logo=CSS3&logoColor=white" />
    <img src="https://img.shields.io/badge/JavaScript-F7DF1E?style=flat&logo=JavaScript&logoColor=white"/>
    <img src="https://img.shields.io/badge/jQuery-0769AD?style=flat&logo=jQuery&logoColor=white"/>
    <img src="https://img.shields.io/badge/thymeleaf-005F0F?style=flat&logo=thymeleaf&logoColor=white"/>
     <img src="https://img.shields.io/badge/bootstrap-3178C6?style=flat&logo=bootstrap&logoColor=white"/>
    <img src="https://img.shields.io/badge/mysql-4479A1?style=flat&logo=mysql&logoColor=white"/>
</div>

<h4>백엔드 💻 </h4>
<div>
    <img src="https://img.shields.io/badge/Java-007396?style=flat&logo=Java&logoColor=white" />
    <img src="https://img.shields.io/badge/intellijidea-000000?style=flat&logo=intellijidea&logoColor=white" />
    <img src="https://img.shields.io/badge/apachetomcat-F8DC75?style=flat&logo=apachetomcat&logoColor=white" />
    <img src="https://img.shields.io/badge/springboot-6DB33F?style=flat&logo=springboot&logoColor=white"/>
    <img src="https://img.shields.io/badge/springsecurity-6DB33F?style=flat&logo=springsecurity&logoColor=white"/>
    <img src="https://img.shields.io/badge/amazons3-569A31?style=flat&logo=amazons3&logoColor=white"/>
    <img src="https://img.shields.io/badge/amazonec2-FF9900?style=flat&logo=amazonec2&logoColor=white"/>
</div>

<h4>소통 💻 </h4>
<div>
    <img src="https://img.shields.io/badge/github-181717?style=flat&logo=github&logoColor=white" />
    <img src="https://img.shields.io/badge/slack-4A154B?style=flat&logo=slack&logoColor=white" />
    <img src="https://img.shields.io/badge/notion-000000?style=flat&logo=notion&logoColor=white" />
    <img src="https://img.shields.io/badge/figma-F24E1E?style=flat&logo=figma&logoColor=white" />
</div>

<br>
<h2><a href="https://www.notion.so/0599f43749c2427c853fa95cdaa8b238?pvs=4">🤝 협업 규칙</a></h2>
<div>
       <ol>
           <li>코드 컨벤션</li>
           Commit 메시지 구조 - 제목,본문,꼬리말 세가지 파트로 나눔
           <br> 각 파트는 빈줄을 두어 구분
           <li>코드 컨벤션</li>
           클래스 이름 - 첫 문자는 대문자, 카멜 케이스 스타일 
           <br> 변수명 및 메서드명 - 첫 문자는 소문자, 가멜 케이스 스타일
           <li>깃허브 컨벤션</li>
           브랜치 전략 → 기능별 브랜치 → Develop 브랜치 → Main 브랜치(최종)
           <br> 머지(병합)시 최소 다른 팀원 2명 이상의 “코드 확인 후” 리뷰 남기고 나서 (승인 2개 이상) 병합
       </ol>
 </div>

### **주요 역할 : 공부시간 기록 기능 개발**

---

- 자바스크립트 기반 스톱워치로 시간 측정 시, 백엔드에서 처리 후 MySQL DB 내 저장하도록 구현
- '오늘의 공부시간'과 '전체 누적 공부시간'을 효율적으로 관리 및 조회할 수 있도록 설계
- 팀장의 일정관리와 리소스 분배 역할
    - 전반적인 **기획, 일정관리, 업무 분담, 커뮤니케이션 증대, 백엔드 개발**
    - 서비스의 흐름, 기능 동작에 대한 이해와 커뮤니케이션을 위한 **인포메이션 아키텍쳐 작성**
    - 체계적인 개발과 **의사소통을 위한 코드 컨벤션, 커밋 컨벤션 기획**
### **기술적 특징 및 구현 세부사항**

---

- **MVC 아키텍처 적용**
    - **Controller, Service, Repository의 구조**를 활용하여 코드의 응집도를 높이고 결합도를 낮춤. 각 레이어가 가지는 책임을 명확히 구분하여 유지보수성 향상
- **예외 처리**
    - RecordTimeException 같은 **커스텀 예외처리를 도입**하여, 예상 가능한 문제 상황에 대해 미리 대응하여 사용자 경험 개선
- **JPA 최적화**
    - UserRepository와 AccumulatedTimeRepository의 **쿼리 최적화**를 통해 데이터베이스의 부하를 줄이고 응답 속도를 개선하였고, 없는 데이터에 대한 처리로 인한 불필요한 데이터베이스 액세스를 최소화
- **시간 파싱 로직**
    - 사용자에게 입력받은 시간 문자열을 분 단위로 파싱하는 로직을 구현, 데이터 일관성 유지
- **Spring Security 활용**
    - `@AuthenticationPrincipal` 어노테이션 활용하여 로그인된 사용자의 정보를 안전하게 처리
- **데이터 무결성 유지**
    - 현재 날짜와 마지막 기록 날짜를 비교하여 일자가 변경될 경우, 누적 시간을 초기화하는 로직을 도입하여 데이터의 신뢰성을 향상

### 트러블슈팅

---

**Issue 1 ) 공부시간 기록이 이전 날짜로 표시되는 문제**

- 해결 : 시간 기록 시 오늘의 누적시간을 가져오던 로직을 페이지 조회 시에 추가로 구현하여 해결
- 결과 : 사용자는 매일 자신의 스톱워치 페이지에 접속 시 정확한 오늘의 누적 공부시간을 확인
- 코드 : getTodayAccumulatedTime() 메소드가 페이지 로딩 시에 호출되도록 조정하여 문제 해결

**Issue 2 ) 공부시간 미기록 시 조회 오류**

- 해결 : 조회할 때, DB에 저장된 오늘의 공부시간 날짜가 null일 경우 값을 0으로 설정하여 테이블을 미리 생성하여 오류 해결
- 결과 : 타 기능에서 해당 기능 사용 전적이 없어도 정확하고 안정적으로 조회
- 코드 : getTodayAccumulatedTime() 메소드 내에 날짜가 null일 경우, 누적 시간을 0으로 설정하는 로직을 추가하여 문제 해결

### 회고

---

이번 최종 프로젝트를 통해 MVC 패턴과 간단한 SpringSecurity,예외처리를 위한 커스텀 Exception, 간단한 JPA 를 통한 쿼리 최적화, 시간 파싱 로직을 다루며 데이터 무결성 유지 등
을 적용하는 방법을 익혔다.

또한, 앞으로 이 프로젝트를 다음 항목에 걸쳐서 개선하고자 함
1. 테스트코드 도입 - 1)Junit5 2) ArchUnit 3) Jacoco 코드 커버리지체크
2. 아키텍쳐 개선 - 1) 클린코드 2) DDD 3) clean arc
3. AWS EC2 수동배포 -> 자동배포 기술 도입
